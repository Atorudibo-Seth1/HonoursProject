<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@200;300;400&display=swap" rel="stylesheet">
    <script type="module" src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.esm.js"></script>
    <script nomodule src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.js"></script>
    <title>Sign Up</title>
</head>

<body class="font-[Poppins]">
    <header class="bg-white shadow-md">
        <nav class="flex justify-between items-center w-[92%] mx-auto">
            <div>
                <h1 class="text-black font-extrabold text-6xl">Learner</h1>
            </div>
            <div
                class="nav-links duration-500 md:static absolute bg-white md:min-h-fit md:w-auto min-h-[60vh] left-0 top-[-100%] w-full flex items-center px-5">
                <ul class="flex md:flex-row flex-col md:items-center md:gap-[4vw] gap-8">
                    <li>
                        <a class="hover:text-gray-500" href="index.html">Home</a>
                    </li>
                    <li>
                        <a class="hover:text-gray-500" href="about.html">About</a>
                    </li>
                    <li>
                        <a class="hover:text-gray-500" href="contact.html">Contact Us</a>
                    </li>
                    <li>
                        <a class="hover:text-gray-500" href="register.html">Register</a>
                    </li>
                </ul>
            </div>
            <div class="flex items-center gap-6">
                <a href="authsignin.html"><button class="bg-[#a6c1ee] text-white px-5 py-2 rounded-full hover:bg-[#87acec]">Sign In</button></a>
                <ion-icon onclick="onToggleMenu(this)" name="menu-outline"
                    class="text-3xl cursor-pointer md:hidden"></ion-icon>
            </div>
        </nav>
    </header>

    <!-- component -->
    <div class="bg-gradient-to-t from-[#fbc2eb] to-[#a6c1ee] min-h-screen flex flex-col">
        <div class="container max-w-sm mx-auto flex-1 flex flex-col items-center justify-center px-2">
            <div class="bg-white px-6 py-8 rounded shadow-md text-black w-full">
                <h1 class="mb-8 text-3xl text-center">Sign up</h1>
                <div name="registration_form" id="form">

                    <input type="email" class="block border border-grey-light w-full p-3 rounded mb-4" name="email"
                        id="email" placeholder="Email" />

                    <input type="password" class="block border border-grey-light w-full p-3 rounded mb-4"
                        name="password" id="password" placeholder="Password" />

                    <button
                        class="w-full text-center py-3 rounded bg-orange-400 text-white hover:bg-green-dark focus:outline-none my-1"
                        name="register" id="register">Create Account</button>
                </div>
                <div class="text-center text-sm text-grey-dark mt-4">
                    By signing up, you agree to the
                    <a class="no-underline border-b border-grey-dark text-grey-dark" href="#">
                        Terms of Service
                    </a> and
                    <a class="no-underline border-b border-grey-dark text-grey-dark" href="#">
                        Privacy Policy
                    </a>
                </div>
            </div>

            <div class="text-grey-dark mt-6">
                Already have an account?
                <a class="no-underline border-b border-blue text-blue" href="authsignin.html">
                    Log in
                </a>.
            </div>
        </div>
    </div>

    <script>
        const navLinks = document.querySelector('.nav-links')
        function onToggleMenu(e) {
            e.name = e.name === 'menu-outline' ? 'close' : 'menu-outline'
            navLinks.classList.toggle('top-[9%]')
        }        
    </script>

    <script type="module">
        // Import the functions you need from the SDKs you need
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.0.0/firebase-app.js";
        import { getAuth, createUserWithEmailAndPassword, signInWithEmailAndPassword, signOut } from "https://www.gstatic.com/firebasejs/10.0.0/firebase-auth.js";
        import { getAnalytics } from "https://www.gstatic.com/firebasejs/10.0.0/firebase-analytics.js";
        import { getPerformance } from "https://www.gstatic.com/firebasejs/10.0.0/firebase-performance.js";
        // TODO: Add SDKs for Firebase products that you want to use
        // https://firebase.google.com/docs/web/setup#available-libraries

        // Your web app's Firebase configuration
        const firebaseConfig = {
            apiKey: "AIzaSyCkzpxtm6YJmzVA3zYXul9aFUegMam840o",
            authDomain: "signup-form-bee2b.firebaseapp.com",
            projectId: "signup-form-bee2b",
            storageBucket: "signup-form-bee2b.appspot.com",
            messagingSenderId: "706891648333",
            appId: "1:706891648333:web:cd5832304c5471bf2d7b04"
        };

        // Initialize Firebase
        const app = initializeApp(firebaseConfig);
        const auth = getAuth();
        const analytics = getAnalytics(app);
        const perf = getPerformance(app);

        console.log(app);

        //----- New Registration code start	  
        document.getElementById("register").addEventListener("click", function () {
            var email = document.getElementById("email").value;
            var password = document.getElementById("password").value;
            //For new registration
            createUserWithEmailAndPassword(auth, email, password)
                .then((userCredential) => {
                    // Signed in 
                    const user = userCredential.user;
                    console.log(user);
                    alert("Registration successfully!!");
                    window.location.assign("authsignin.html")
                    // ...
                })
                .catch((error) => {
                    const errorCode = error.code;
                    const errorMessage = error.message;
                    // ..
                    console.log(errorMessage);
                    alert(error);
                });
        });
    //----- End
    </script>


</body>

</html>